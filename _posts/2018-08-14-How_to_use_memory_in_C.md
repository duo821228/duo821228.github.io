---

layout: post

title: "C 언어의 메모리 사용 방법"

description: "지정자에 따른 메모리 사용 정리"

date: 2018-08-14

tags: [C, Memory optimization, Embedded System]

comments: true

share: false

---

  

---

## 1. C언어 메모리 사용에 대한 이해.

임베디드 시스템 최적화 시 **C언어 메모리 관련 지정자에 대한 정확한 이해**는 필수사항임. 메모리 지정자는 메모리의 성질, 유효범위, 유효 시간 등을 결정함.

### 요약
| -- | 지역변수 | 전역 변수 | 정적 변수 | 레지스터 변수 |
| -- | -- | -- | -- | -- |
| 지정자 | **auto** (생략가능) | **extern** (생략가능) | **static** | **register** |
| 메모리 | 스택 | 데이터 세그먼트 | 데이터 세그먼트| 레지스터|
| 선언 | 함수내부 | Evertwhere| 지역:함수 내, 전역:함수외부| 함수내부|
| 초기화| 안하면 쓰레기값|0으로 자동 초기화| 0으로 자동초기화| 안하면 쓰레기값|
|유효범위|선언 함수,블록 내|함수 외부, 파일 외부| 함수 내/외부, 파일 내부|선언 함수, 블록 내|
|유효시간|함수 종료시까지|프로그램 종료시|프로그램 종료시|함수 종료시|






* C의 메모리
	* ROM: 런타임에 변하지 않는 코드들 저장
		* 텍스트: 코드/상수
		* 데이터: 초기화된 전역 변수, 정적 변수
	* RAM: 런타임에 값이 변하는 것들을 저장
		* 텍스트: 문자열과 상수
		* 데이터: ROM의 데이터 세그먼트 복사
		* BSS: 초기화 되지 않은 전역 변수, 정적 변수를 0으로 자동 초기화 (스타트업 코드)
		* Heap: 동적 할당, 포인터로 접근
		* Stack: 지역 변수 및 함수 인자
* C언어 메모리 지정자
	* 기억 부류 지정자: 데이터가 저장될 메모리 영역 구분
		* extern
		* static: 데이터 세그먼트에 저장, 프로그램 실행시 생성, 종료시까지 유지됨. 전역 변수의 성질을 갖는 지역변수를 만들어 쓸 수 있음.
		* auto
		* register
* 타입 지정자: 데이터 크기 지정
	* void
	* char
	* short
	* int
	* long
	* float
	* double
	* signed/unsigned
* 타입 한정자: 메모리의 성질 변화
	* const
	* volatile


> Written with [StackEdit](https://stackedit.io/).
